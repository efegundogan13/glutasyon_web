<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Glutasyon - Restoran QR Kartƒ±</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; background: #f0f0f0; padding: 30px; }
        
        .controls {
            max-width: 500px; margin: 0 auto 30px; background: white;
            border-radius: 16px; padding: 24px; box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        }
        .controls h1 { color: #2E7D32; font-size: 22px; margin-bottom: 16px; text-align: center; }
        .controls label { display: block; font-weight: 600; color: #333; margin-bottom: 6px; font-size: 14px; }
        .controls input, .controls select {
            width: 100%; padding: 12px; border: 2px solid #e0e0e0; border-radius: 10px;
            font-size: 16px; margin-bottom: 16px; outline: none;
        }
        .controls input:focus { border-color: #4CAF50; }
        .btn-generate {
            width: 100%; padding: 14px; background: #4CAF50; color: white; border: none;
            border-radius: 10px; font-size: 16px; font-weight: 600; cursor: pointer;
        }
        .btn-generate:hover { background: #388E3C; }

        .preview { text-align: center; margin-top: 20px; }
        .preview h2 { color: #333; margin-bottom: 16px; }

        /* Kart Tasarƒ±mƒ± - A5 baskƒ± */
        .card {
            width: 500px; margin: 0 auto; background: white; border-radius: 20px;
            overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .card-header {
            background: linear-gradient(135deg, #4CAF50 0%, #2E7D32 100%);
            padding: 24px 20px; text-align: center;
        }
        .card-header .app-name { color: white; font-size: 32px; font-weight: 800; letter-spacing: 1px; }
        .card-header .app-tagline { color: rgba(255,255,255,0.85); font-size: 14px; margin-top: 4px; }
        
        .card-body { padding: 28px 20px; text-align: center; }
        .restaurant-name { color: #2E7D32; font-size: 20px; font-weight: 700; margin-bottom: 4px; }
        .restaurant-label { color: #888; font-size: 12px; margin-bottom: 18px; text-transform: uppercase; letter-spacing: 1px; }
        
        #qr-card { display: inline-block; padding: 12px; background: #f9f9f9; border-radius: 12px; border: 2px solid #e8e8e8; }
        
        .scan-cta { margin-top: 18px; }
        .scan-cta .main-text { color: #333; font-size: 18px; font-weight: 700; }
        .scan-cta .sub-text { color: #888; font-size: 13px; margin-top: 4px; }
        
        .card-footer {
            background: #f5f5f5; padding: 14px 20px; text-align: center;
            border-top: 1px solid #e8e8e8;
        }
        .card-footer .badges { display: flex; justify-content: center; gap: 20px; align-items: center; }
        .card-footer .badge { color: #666; font-size: 13px; font-weight: 600; }
        .card-footer .badge span { font-size: 16px; margin-right: 4px; vertical-align: middle; }

        .download-btns { margin-top: 20px; display: flex; gap: 10px; justify-content: center; }
        .dl-btn {
            padding: 12px 28px; border: none; border-radius: 10px;
            font-size: 15px; font-weight: 600; cursor: pointer;
        }
        .dl-btn-png { background: #4CAF50; color: white; }
        .dl-btn-png:hover { background: #388E3C; }
        .dl-btn-print { background: #333; color: white; }
        .dl-btn-print:hover { background: #111; }

        @media print {
            .controls, .preview h2, .download-btns { display: none !important; }
            body { background: white; padding: 0; }
            .card { box-shadow: none; }
        }
    </style>
</head>
<body>
    <div class="controls">
        <h1>üçΩÔ∏è Restoran QR Kartƒ± Olu≈ütur</h1>
        <label>Restoran Adƒ±</label>
        <input type="text" id="restaurantName" placeholder="√ñrn: Saƒülƒ±klƒ± Lezzetler Cafe" oninput="updateCard()">
        <label>Kart Boyutu</label>
        <select id="cardSize" onchange="updateCard()">
            <option value="500">Orta (Masa √ºst√º)</option>
            <option value="350">K√º√ß√ºk (Men√º yanƒ±)</option>
            <option value="650">B√ºy√ºk (Poster)</option>
        </select>
        <button class="btn-generate" onclick="generatePNG()">üì• PNG Olarak ƒ∞ndir</button>
    </div>

    <div class="preview">
        <h2>√ñnizleme</h2>
        <div class="card" id="card">
            <div class="card-header">
                <div class="app-name">Glutasyon</div>
                <div class="app-tagline">Glutensiz Ya≈üam Rehberi</div>
            </div>
            <div class="card-body">
                <div class="restaurant-label">Glutensiz Men√º Mevcut</div>
                <div class="restaurant-name" id="displayName">Restoran Adƒ±</div>
                <div style="margin-top:18px;" id="qr-card"></div>
                <div class="scan-cta">
                    <div class="main-text">üì± QR Kodu Okutun</div>
                    <div class="sub-text">Uygulamamƒ±zƒ± indirip bizi deƒüerlendirin!</div>
                </div>
            </div>
            <div class="card-footer">
                <div class="badges">
                    <div class="badge"><span>üçé</span> App Store</div>
                    <div class="badge"><span>‚ñ∂Ô∏è</span> Google Play</div>
                </div>
            </div>
        </div>

        <div class="download-btns">
            <button class="dl-btn dl-btn-png" onclick="generatePNG()">üì• PNG ƒ∞ndir</button>
            <button class="dl-btn dl-btn-print" onclick="window.print()">üñ®Ô∏è Yazdƒ±r</button>
        </div>
    </div>

    <script>
        var qrUrl = "https://apps.apple.com/tr/app/glutasyon/id6756797544";

        // ƒ∞lk QR olu≈ütur
        var qrCode = new QRCode(document.getElementById("qr-card"), {
            text: qrUrl,
            width: 180,
            height: 180,
            colorDark: "#2E7D32",
            colorLight: "#ffffff",
            correctLevel: QRCode.CorrectLevel.H
        });

        function updateCard() {
            var name = document.getElementById("restaurantName").value || "Restoran Adƒ±";
            document.getElementById("displayName").textContent = name;
        }

        function generatePNG() {
            var card = document.getElementById("card");
            html2canvas(card, { scale: 3, useCORS: true, backgroundColor: "#ffffff" }).then(function(canvas) {
                var link = document.createElement("a");
                var name = document.getElementById("restaurantName").value || "restoran";
                var safeName = name.replace(/[^a-zA-Z0-9ƒü√º≈üƒ±√∂√ßƒû√ú≈ûƒ∞√ñ√á ]/g, "").replace(/ /g, "-").toLowerCase();
                link.download = "glutasyon-qr-" + safeName + ".png";
                link.href = canvas.toDataURL("image/png");
                link.click();
            });
        }
    </script>
</body>
</html>
